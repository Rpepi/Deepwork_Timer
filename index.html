<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minuteur Circulaire</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
  <script src="script.js" defer></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gradient-to-br from-black via-gray-900 to-indigo-900 flex items-center justify-center h-screen">
  <div id="app" class="text-center max-w-lg mx-auto">
    <!-- Cercle de progression -->
    <div class="relative w-64 h-64 mx-auto">
      <svg class="w-full h-full">
        <circle
          class="text-gray-700"
          cx="128"
          cy="128"
          r="100"
          stroke="currentColor"
          stroke-width="8"
          fill="none"
        ></circle>
        <circle
          :class="{'glowing': isExpired}"
          :stroke-dasharray="circumference"
          :stroke-dashoffset="progress"
          class="progress-circle text-blue-400"
          cx="128"
          cy="128"
          r="100"
          stroke="currentColor"
          stroke-width="8"
          fill="none"
          stroke-linecap="round"
        ></circle>
      </svg>
      <!-- Affichage du temps -->
      <div class="absolute top-0 left-0 w-full h-full flex items-center justify-center">
        <div>
          <span class="text-6xl font-bold text-white">{{ formattedTime }}</span>
          <p class="text-sm text-gray-400">Temps restant</p>
        </div>
      </div>
    </div>

    <!-- Sélection du temps (affichez seulement si le minuteur n'est pas en cours) -->
    <div v-if="!timerRunning && !isExpired" class="mt-8 space-y-4">
      <!-- Champs pour les minutes et secondes -->
      <div class="flex gap-4 justify-center">
        <input 
          type="number" 
          v-model="minutes"
          min="0"
          class="px-6 py-3 rounded-lg border border-gray-600 text-white bg-transparent placeholder-gray-400 w-32 text-center"
          placeholder="Minutes"
          @input="updateTime"
        />
        <input 
          type="number" 
          v-model="seconds"
          min="0"
          max="59"
          class="px-6 py-3 rounded-lg border border-gray-600 text-white bg-transparent placeholder-gray-400 w-32 text-center"
          placeholder="Secondes"
          @input="updateTime"
        />
      </div>
      <button
        @click="setTime(minutes * 60 + seconds)"
        class="px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-medium rounded-lg shadow-lg transition-all w-full"
      >
        Set Time
      </button>
    </div>

    <!-- Boutons Start, Pause et Reset -->
    <div class="mt-8 flex justify-center gap-6" v-if="!isExpired">
      <button
        @click="startTimer"
        class="px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium rounded-lg shadow-lg transition-all w-32"
      >
        Start
      </button>
      <button
        @click="pauseTimer"
        class="px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-medium rounded-lg shadow-lg transition-all w-32"
      >
        Pause
      </button>
      <button
        @click="resetTimer"
        class="px-6 py-3 bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-800 hover:to-gray-900 text-white font-medium rounded-lg shadow-lg transition-all w-32"
      >
        Reset
      </button>
    </div>

    <!-- Audio pour le bruit à la fin du minuteur -->
    <audio ref="audioEnd" src="beep.mp3" preload="auto"></audio>
  </div>
</body>
</html>
